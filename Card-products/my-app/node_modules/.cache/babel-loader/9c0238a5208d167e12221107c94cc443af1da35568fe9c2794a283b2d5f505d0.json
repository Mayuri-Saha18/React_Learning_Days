{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saham\\\\OneDrive\\\\Documents\\\\Desktop\\\\My react\\\\React_Learning_Days\\\\Card-products\\\\my-app\\\\src\\\\Components\\\\CartPage\\\\CartPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./CartPage.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CartPage() {\n  _s();\n  const prod = JSON.parse(localStorage.getItem(\"product\"));\n  const [temp, setTemp] = useState(prod);\n  console.log(temp);\n\n  // console.log(\"addToProductArray\", addToProductArray);\n  const navigate = useNavigate();\n  let total = 0;\n  // prod.map((ele) => {\n  //   return (total += ele.price);\n  // });\n\n  const oderAdd = JSON.parse(localStorage.getItem(\"order-product\")) || [];\n  const handleOrder = prod => {\n    alert(\"Order Succefully\");\n    prod.map(ele => oderAdd.push(ele));\n    localStorage.setItem(\"order-product\", JSON.stringify(oderAdd));\n    navigate(\"/orders\");\n  };\n  const handleQty = (val, id) => {\n    console.log(id);\n    const updatedTemp = temp.map(item => item.id === id ? {\n      ...item,\n      qty: item.qty + val\n    } : item);\n    setTemp(updatedTemp);\n    console.log(temp);\n\n    // Remove items with qty < 1 from localStorage\n    const updatedProd = updatedTemp.filter(item => item.qty > 0);\n    localStorage.setItem(\"product\", JSON.stringify(updatedProd));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart\",\n      children: [temp && temp.map(ele => {\n        // total += Number(Math.ceil(ele.qty / 2)) * Number(ele.price);\n        total += Number(ele.qty) * Number(ele.price);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-mini\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: ele.image,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: ele.brand\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: ele.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleQty(1, ele.id),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: ele.qty\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleQty(-1, ele.id),\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: ele.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Total Price : \", total]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"cart-btn\",\n      onClick: () => handleOrder(prod),\n      children: \"Place Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(CartPage, \"8rngRzgauYwtPbontHj8ycGR7F4=\", false, function () {\n  return [useNavigate];\n});\n_c = CartPage;\nexport default CartPage;\nvar _c;\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"names":["React","useState","useNavigate","CartPage","prod","JSON","parse","localStorage","getItem","temp","setTemp","console","log","navigate","total","oderAdd","handleOrder","alert","map","ele","push","setItem","stringify","handleQty","val","id","updatedTemp","item","qty","updatedProd","filter","Number","price","image","brand","title"],"sources":["C:/Users/saham/OneDrive/Documents/Desktop/My react/React_Learning_Days/Card-products/my-app/src/Components/CartPage/CartPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./CartPage.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction CartPage() {\r\n  const prod = JSON.parse(localStorage.getItem(\"product\"));\r\n  const [temp, setTemp] = useState(prod);\r\n  console.log(temp);\r\n\r\n  // console.log(\"addToProductArray\", addToProductArray);\r\n  const navigate = useNavigate();\r\n\r\n  let total = 0;\r\n  // prod.map((ele) => {\r\n  //   return (total += ele.price);\r\n  // });\r\n\r\n  const oderAdd = JSON.parse(localStorage.getItem(\"order-product\")) || [];\r\n  const handleOrder = (prod) => {\r\n    alert(\"Order Succefully\");\r\n    prod.map((ele) => oderAdd.push(ele));\r\n    localStorage.setItem(\"order-product\", JSON.stringify(oderAdd));\r\n    navigate(\"/orders\");\r\n  };\r\n\r\n  const handleQty = (val, id) => {\r\n    console.log(id);\r\n    const updatedTemp = temp.map((item) =>\r\n    item.id === id ? { ...item, qty: item.qty + val } : item\r\n  );\r\n  setTemp(updatedTemp);\r\n  console.log(temp);\r\n\r\n  // Remove items with qty < 1 from localStorage\r\n  const updatedProd = updatedTemp.filter((item) => item.qty > 0);\r\n  localStorage.setItem(\"product\", JSON.stringify(updatedProd));\r\n\r\n  \r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"cart\">\r\n        {temp &&\r\n          temp.map((ele) => {\r\n            // total += Number(Math.ceil(ele.qty / 2)) * Number(ele.price);\r\n            total += Number(ele.qty) * Number(ele.price);\r\n            return (\r\n              <div className=\"cart-mini\">\r\n                <img src={ele.image} alt=\"\" />\r\n                <div>\r\n                  <h1>{ele.brand}</h1>\r\n                  <h2>{ele.title}</h2>\r\n                </div>\r\n                <div>\r\n                  <button onClick={() => handleQty(1, ele.id)}>+</button>\r\n                  <p>{ele.qty}</p>\r\n                  <button onClick={() => handleQty(-1, ele.id)}>-</button>\r\n                </div>\r\n                <h2>{ele.price}</h2>\r\n              </div>\r\n            );\r\n          })}\r\n\r\n        <h1>Total Price : {total}</h1>\r\n      </div>\r\n\r\n      <button className=\"cart-btn\" onClick={() => handleOrder(prod)}>\r\n        Place Order\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CartPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}